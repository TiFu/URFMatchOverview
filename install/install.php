<?php
echo "<h1>Installing URF Match Timeline</h1>";
echo "1 indicates success, 0 indicates failure";

include("../config/config.php"); // include constants and config

$mysqli = mysqli_init();
$mysqli->real_connect(SERVER, DB_USER, DB_PW);

// Create Database
echo "Creating database if it does not exist .<br>";
$mysqli->query("CREATE DATABASE IF NOT EXISTS " .DATABASE);
$mysqli->select_db(DATABASE);
echo "Using database: " .DATABASE ."<br>&nbsp;<br>";

// Creating tables
echo "Analyzed Games Table: ";
echo $mysqli->query("CREATE TABLE IF NOT EXISTS `" .AVERAGE_TABLE ."` (
  `gameId` int(255) NOT NULL,
  `region` enum('euw','na','lan','las','tr','kr','ru','oce','br','eune') NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=latin1;") ."<br>";
echo "Champs Table:";
echo $mysqli->query("CREATE TABLE IF NOT EXISTS `" .CHAMP_TABLE ."` (
  `id` int(255) NOT NULL,
  `name` varchar(255) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=latin1;
") ."<br>";
echo "Item table: ";
echo $mysqli->query("CREATE TABLE IF NOT EXISTS `" .ITEM_TABLE ."` (
  `id` int(255) NOT NULL,
  `name` varchar(255) NOT NULL,
  `stock` int(5) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=latin1;
") ."<br>";
echo "Summoner table: ";
echo $mysqli->query("CREATE TABLE IF NOT EXISTS `" .SUMMONERS_TABLE ."` (
  `id` int(255) NOT NULL,
  `name` varchar(255) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=latin1;
") ."<br>";
echo "<br>Inserting data into tables.<br>";
echo "Champs: ";
echo $mysqli->query("INSERT INTO `" .CHAMP_TABLE ."` (`id`, `name`) VALUES
(1, 'Annie'),
(2, 'Olaf'),
(3, 'Galio'),
(4, 'Twisted Fate'),
(5, 'Xin Zhao'),
(6, 'Urgot'),
(7, 'LeBlanc'),
(8, 'Vladimir'),
(9, 'Fiddlesticks'),
(10, 'Kayle'),
(11, 'Master Yi'),
(12, 'Alistar'),
(13, 'Ryze'),
(14, 'Sion'),
(15, 'Sivir'),
(16, 'Soraka'),
(17, 'Teemo'),
(18, 'Tristana'),
(19, 'Warwick'),
(20, 'Nunu'),
(21, 'Miss Fortune'),
(22, 'Ashe'),
(23, 'Tryndamere'),
(24, 'Jax'),
(25, 'Morgana'),
(26, 'Zilean'),
(27, 'Singed'),
(28, 'Evelynn'),
(29, 'Twitch'),
(30, 'Karthus'),
(31, 'Cho''Gath'),
(32, 'Amumu'),
(33, 'Rammus'),
(34, 'Anivia'),
(35, 'Shaco'),
(36, 'Dr. Mundo'),
(37, 'Sona'),
(38, 'Kassadin'),
(39, 'Irelia'),
(40, 'Janna'),
(41, 'Gangplank'),
(42, 'Corki'),
(43, 'Karma'),
(44, 'Taric'),
(45, 'Veigar'),
(48, 'Trundle'),
(50, 'Swain'),
(51, 'Caitlyn'),
(53, 'Blitzcrank'),
(54, 'Malphite'),
(55, 'Katarina'),
(56, 'Nocturne'),
(57, 'Maokai'),
(58, 'Renekton'),
(59, 'Jarvan IV'),
(60, 'Elise'),
(61, 'Orianna'),
(62, 'Wukong'),
(63, 'Brand'),
(64, 'Lee Sin'),
(67, 'Vayne'),
(68, 'Rumble'),
(69, 'Cassiopeia'),
(72, 'Skarner'),
(74, 'Heimerdinger'),
(75, 'Nasus'),
(76, 'Nidalee'),
(77, 'Udyr'),
(78, 'Poppy'),
(79, 'Gragas'),
(80, 'Pantheon'),
(81, 'Ezreal'),
(82, 'Mordekaiser'),
(83, 'Yorick'),
(84, 'Akali'),
(85, 'Kennen'),
(86, 'Garen'),
(89, 'Leona'),
(90, 'Malzahar'),
(91, 'Talon'),
(92, 'Riven'),
(96, 'Kog''Maw'),
(98, 'Shen'),
(99, 'Lux'),
(101, 'Xerath'),
(102, 'Shyvana'),
(103, 'Ahri'),
(104, 'Graves'),
(105, 'Fizz'),
(106, 'Volibear'),
(107, 'Rengar'),
(110, 'Varus'),
(111, 'Nautilus'),
(112, 'Viktor'),
(113, 'Sejuani'),
(114, 'Fiora'),
(115, 'Ziggs'),
(117, 'Lulu'),
(119, 'Draven'),
(120, 'Hecarim'),
(121, 'Kha''Zix'),
(122, 'Darius'),
(126, 'Jayce'),
(127, 'Lissandra'),
(131, 'Diana'),
(133, 'Quinn'),
(134, 'Syndra'),
(143, 'Zyra'),
(150, 'Gnar'),
(154, 'Zac'),
(157, 'Yasuo'),
(161, 'Vel''Koz'),
(201, 'Braum'),
(222, 'Jinx'),
(236, 'Lucian'),
(238, 'Zed'),
(254, 'Vi'),
(266, 'Aatrox'),
(267, 'Nami'),
(268, 'Azir'),
(412, 'Thresh'),
(421, 'Rek''Sai'),
(429, 'Kalista'),
(432, 'Bard');
") ."<br>";


echo "Item Table: ";
echo $mysqli->query("INSERT INTO `" .ITEM_TABLE ."` (`id`, `name`, `stock`) VALUES
(1001, 'Boots of Speed', 1),
(1004, 'Faerie Charm', 1),
(1006, 'Rejuvenation Bead', 1),
(1011, 'Giant''s Belt', 1),
(1018, 'Cloak of Agility', 1),
(1026, 'Blasting Wand', 1),
(1027, 'Sapphire Crystal', 1),
(1028, 'Ruby Crystal', 1),
(1029, 'Cloth Armor', 1),
(1031, 'Chain Vest', 1),
(1033, 'Null-Magic Mantle', 1),
(1036, 'Long Sword', 1),
(1037, 'Pickaxe', 1),
(1038, 'B. F. Sword', 1),
(1039, 'Hunter''s Machete', 1),
(1042, 'Dagger', 1),
(1043, 'Recurve Bow', 1),
(1051, 'Brawler''s Gloves', 1),
(1052, 'Amplifying Tome', 1),
(1053, 'Vampiric Scepter', 1),
(1054, 'Doran''s Shield', 1),
(1055, 'Doran''s Blade', 1),
(1056, 'Doran''s Ring', 1),
(1057, 'Negatron Cloak', 1),
(1058, 'Needlessly Large Rod', 1),
(1062, 'Prospector''s Blade', 1),
(1063, 'Prospector''s Ring', 1),
(1074, 'Doran''s Shield (Showdown)', 1),
(1075, 'Doran''s Blade (Showdown)', 1),
(1076, 'Doran''s Ring (Showdown)', 1),
(2003, 'Health Potion', 5),
(2004, 'Mana Potion', 5),
(2009, 'Total Biscuit of Rejuvenation', 1),
(2010, 'Total Biscuit of Rejuvenation', 5),
(2041, 'Crystalline Flask', 1),
(2043, 'Vision Ward', 2),
(2044, 'Stealth Ward', 3),
(2045, 'Ruby Sightstone', 1),
(2047, 'Oracle''s Extract', 1),
(2049, 'Sightstone', 1),
(2050, 'Explorer''s Ward', 1),
(2051, 'Guardian''s Horn', 1),
(2052, 'Poro-Snax', 1),
(2053, 'Raptor Cloak', 1),
(2054, 'Diet Poro-Snax', 1),
(2137, 'Elixir of Ruin', 1),
(2138, 'Elixir of Iron', 1),
(2139, 'Elixir of Sorcery', 1),
(2140, 'Elixir of Wrath', 1),
(3001, 'Abyssal Scepter', 1),
(3003, 'Archangel''s Staff', 1),
(3004, 'Manamune', 1),
(3006, 'Berserker''s Greaves', 1),
(3007, 'Archangel''s Staff (Crystal Scar)', 1),
(3008, 'Manamune (Crystal Scar)', 1),
(3009, 'Boots of Swiftness', 1),
(3010, 'Catalyst the Protector', 1),
(3020, 'Sorcerer''s Shoes', 1),
(3022, 'Frozen Mallet', 1),
(3023, 'Twin Shadows', 1),
(3024, 'Glacial Shroud', 1),
(3025, 'Iceborn Gauntlet', 1),
(3026, 'Guardian Angel', 1),
(3027, 'Rod of Ages', 1),
(3028, 'Chalice of Harmony', 1),
(3029, 'Rod of Ages (Crystal Scar)', 1),
(3031, 'Infinity Edge', 1),
(3035, 'Last Whisper', 1),
(3040, 'Seraph''s Embrace', 1),
(3041, 'Mejai''s Soulstealer', 1),
(3042, 'Muramana', 1),
(3043, 'Muramana', 1),
(3044, 'Phage', 1),
(3046, 'Phantom Dancer', 1),
(3047, 'Ninja Tabi', 1),
(3048, 'Seraph''s Embrace', 1),
(3050, 'Zeke''s Herald', 1),
(3056, 'Ohmwrecker', 1),
(3057, 'Sheen', 1),
(3060, 'Banner of Command', 1),
(3065, 'Spirit Visage', 1),
(3067, 'Kindlegem', 1),
(3068, 'Sunfire Cape', 1),
(3069, 'Talisman of Ascension', 1),
(3070, 'Tear of the Goddess', 1),
(3071, 'The Black Cleaver', 1),
(3072, 'The Bloodthirster', 1),
(3073, 'Tear of the Goddess (Crystal Scar)', 1),
(3074, 'Ravenous Hydra (Melee Only)', 1),
(3075, 'Thornmail', 1),
(3077, 'Tiamat (Melee Only)', 1),
(3078, 'Trinity Force', 1),
(3082, 'Warden''s Mail', 1),
(3083, 'Warmog''s Armor', 1),
(3084, 'Overlord''s Bloodmail', 1),
(3085, 'Runaan''s Hurricane (Ranged Only)', 1),
(3086, 'Zeal', 1),
(3087, 'Statikk Shiv', 1),
(3089, 'Rabadon''s Deathcap', 1),
(3090, 'Wooglet''s Witchcap', 1),
(3091, 'Wit''s End', 1),
(3092, 'Frost Queen''s Claim', 1),
(3093, 'Avarice Blade', 1),
(3096, 'Nomad''s Medallion', 1),
(3097, 'Targon''s Brace', 1),
(3098, 'Frostfang', 1),
(3100, 'Lich Bane', 1),
(3101, 'Stinger', 1),
(3102, 'Banshee''s Veil', 1),
(3104, 'Lord Van Damm''s Pillager', 1),
(3105, 'Aegis of the Legion', 1),
(3106, 'Madred''s Razors', 1),
(3108, 'Fiendish Codex', 1),
(3110, 'Frozen Heart', 1),
(3111, 'Mercury''s Treads', 1),
(3112, 'Orb of Winter', 1),
(3113, 'Aether Wisp', 1),
(3114, 'Forbidden Idol', 1),
(3115, 'Nashor''s Tooth', 1),
(3116, 'Rylai''s Crystal Scepter', 1),
(3117, 'Boots of Mobility', 1),
(3122, 'Wicked Hatchet', 1),
(3124, 'Guinsoo''s Rageblade', 1),
(3134, 'The Brutalizer', 0),
(3135, 'Void Staff', 1),
(3136, 'Haunting Guise', 0),
(3137, 'Dervish Blade', 1),
(3139, 'Mercurial Scimitar', 1),
(3140, 'Quicksilver Sash', 1),
(3141, 'Sword of the Occult', 1),
(3142, 'Youmuu''s Ghostblade', 1),
(3143, 'Randuin''s Omen', 1),
(3144, 'Bilgewater Cutlass', 1),
(3145, 'Hextech Revolver', 1),
(3146, 'Hextech Gunblade', 1),
(3151, 'Liandry''s Torment', 0),
(3152, 'Will of the Ancients', 1),
(3153, 'Blade of the Ruined King', 1),
(3154, 'Wriggle''s Lantern', 1),
(3155, 'Hexdrinker', 0),
(3156, 'Maw of Malmortius', 0),
(3157, 'Zhonya''s Hourglass', 1),
(3158, 'Ionian Boots of Lucidity', 1),
(3159, 'Grez''s Spectral Lantern', 1),
(3165, 'Morellonomicon', 1),
(3166, 'Bonetooth Necklace', 1),
(3167, 'Bonetooth Necklace', 1),
(3168, 'Bonetooth Necklace', 1),
(3169, 'Bonetooth Necklace', 1),
(3170, 'Moonflair Spellblade', 1),
(3171, 'Bonetooth Necklace', 1),
(3172, 'Zephyr', 1),
(3174, 'Athene''s Unholy Grail', 1),
(3175, 'Head of Kha''Zix', 1),
(3180, 'Odyn''s Veil', 1),
(3181, 'Sanguine Blade', 1),
(3184, 'Entropy', 1),
(3185, 'The Lightbringer', 1),
(3187, 'Hextech Sweeper', 1),
(3190, 'Locket of the Iron Solari', 1),
(3191, 'Seeker''s Armguard', 1),
(3196, 'The Hex Core mk-1', 1),
(3197, 'The Hex Core mk-2', 1),
(3198, 'Perfect Hex Core', 1),
(3200, 'Prototype Hex Core', 1),
(3211, 'Spectre''s Cowl', 1),
(3222, 'Mikael''s Crucible', 1),
(3250, 'Enchantment: Homeguard', 1),
(3251, 'Enchantment: Captain', 1),
(3252, 'Enchantment: Furor', 1),
(3253, 'Enchantment: Distortion', 1),
(3254, 'Enchantment: Alacrity', 1),
(3255, 'Enchantment: Homeguard', 1),
(3256, 'Enchantment: Captain', 1),
(3257, 'Enchantment: Furor', 1),
(3258, 'Enchantment: Distortion', 1),
(3259, 'Enchantment: Alacrity', 1),
(3260, 'Enchantment: Homeguard', 1),
(3261, 'Enchantment: Captain', 1),
(3262, 'Enchantment: Furor', 1),
(3263, 'Enchantment: Distortion', 1),
(3264, 'Enchantment: Alacrity', 1),
(3265, 'Enchantment: Homeguard', 1),
(3266, 'Enchantment: Captain', 1),
(3267, 'Enchantment: Furor', 1),
(3268, 'Enchantment: Distortion', 1),
(3269, 'Enchantment: Alacrity', 1),
(3270, 'Enchantment: Homeguard', 1),
(3271, 'Enchantment: Captain', 1),
(3272, 'Enchantment: Furor', 1),
(3273, 'Enchantment: Distortion', 1),
(3274, 'Enchantment: Alacrity', 1),
(3275, 'Enchantment: Homeguard', 1),
(3276, 'Enchantment: Captain', 1),
(3277, 'Enchantment: Furor', 1),
(3278, 'Enchantment: Distortion', 1),
(3279, 'Enchantment: Alacrity', 1),
(3280, 'Enchantment: Homeguard', 1),
(3281, 'Enchantment: Captain', 1),
(3282, 'Enchantment: Furor', 1),
(3283, 'Enchantment: Distortion', 1),
(3284, 'Enchantment: Alacrity', 1),
(3285, 'Luden''s Echo', 1),
(3290, 'Twin Shadows', 1),
(3301, 'Ancient Coin', 1),
(3302, 'Relic Shield', 1),
(3303, 'Spellthief''s Edge', 1),
(3340, 'Warding Totem (Trinket)', 1),
(3341, 'Sweeping Lens (Trinket)', 1),
(3342, 'Scrying Orb (Trinket)', 1),
(3345, 'Soul Anchor (Trinket)', 1),
(3361, 'Greater Stealth Totem (Trinket)', 1),
(3362, 'Greater Vision Totem (Trinket)', 1),
(3363, 'Farsight Orb (Trinket)', 1),
(3364, 'Oracle''s Lens (Trinket)', 1),
(3401, 'Face of the Mountain', 1),
(3405, 'Bonetooth Necklace', 1),
(3406, 'Bonetooth Necklace', 1),
(3407, 'Bonetooth Necklace', 1),
(3408, 'Bonetooth Necklace', 1),
(3409, 'Bonetooth Necklace', 1),
(3410, 'Head of Kha''Zix', 1),
(3411, 'Bonetooth Necklace', 1),
(3412, 'Bonetooth Necklace', 1),
(3413, 'Bonetooth Necklace', 1),
(3414, 'Bonetooth Necklace', 1),
(3415, 'Bonetooth Necklace', 1),
(3416, 'Head of Kha''Zix', 1),
(3417, 'Bonetooth Necklace', 1),
(3418, 'Bonetooth Necklace', 1),
(3419, 'Bonetooth Necklace', 1),
(3420, 'Bonetooth Necklace', 1),
(3421, 'Bonetooth Necklace', 1),
(3422, 'Head of Kha''Zix', 1),
(3450, 'Bonetooth Necklace', 1),
(3451, 'Bonetooth Necklace', 1),
(3452, 'Bonetooth Necklace', 1),
(3453, 'Bonetooth Necklace', 1),
(3454, 'Bonetooth Necklace', 1),
(3455, 'Head of Kha''Zix', 1),
(3460, 'Golden Transcendence', 1),
(3504, 'Ardent Censer', 1),
(3508, 'Essence Reaver', 1),
(3512, 'Zz''Rot Portal', 1),
(3599, 'The Black Spear', 1),
(3706, 'Stalker''s Blade', 1),
(3707, 'Enchantment: Warrior', 1),
(3708, 'Enchantment: Magus', 1),
(3709, 'Enchantment: Cinderhulk', 1),
(3710, 'Enchantment: Devourer', 1),
(3711, 'Poacher''s Knife', 1),
(3713, 'Ranger''s Trailblazer', 1),
(3714, 'Enchantment: Warrior', 1),
(3715, 'Skirmisher''s Sabre', 1),
(3716, 'Enchantment: Magus', 1),
(3717, 'Enchantment: Cinderhulk', 1),
(3718, 'Enchantment: Devourer', 1),
(3719, 'Enchantment: Warrior', 1),
(3720, 'Enchantment: Magus', 1),
(3721, 'Enchantment: Cinderhulk', 1),
(3722, 'Enchantment: Devourer', 1),
(3723, 'Enchantment: Warrior', 1),
(3724, 'Enchantment: Magus', 1),
(3725, 'Enchantment: Cinderhulk', 1),
(3726, 'Enchantment: Devourer', 1),
(3751, 'Bami''s Cinder', 1),
(3800, 'Righteous Glory', 1),
(3801, 'Crystalline Bracer', 1);") ."<br>";

echo "Summoner spells table: ";
echo $mysqli->query("INSERT INTO `" .SUMMONERS_TABLE ."` (`id`, `name`) VALUES
(21, 'Barrier'),
(1, 'Cleanse'),
(2, 'Clairvoyance'),
(14, 'Ignite'),
(3, 'Exhaust'),
(4, 'Flash'),
(6, 'Ghost'),
(7, 'Heal'),
(13, 'Clarity'),
(17, 'Garrison'),
(30, 'To the King!'),
(31, 'Poro Toss'),
(11, 'Smite'),
(12, 'Teleport');") ."<br>";

echo "&nbsp<br>Closing Database connection: " .$mysqli->close();
// TODO add analyzed games data
echo "<h2>Finished installing URF Match Timline</h2>";
?>